---
title: 'Extract'
description: 'Extract structured data from medical documents using entity recognition'
openapi: 'POST /v1/extract'
---

## Overview

Extract structured data from medical documents by specifying entities you want to extract. This endpoint uses AI-powered entity recognition to identify and extract specific information from referral documents.

## Endpoint

```
POST https://app.arahealth.io/v1/extract
```

**Base URL:** `https://app.arahealth.io`
**Path:** `/v1/extract`
**Method:** `POST`

## Request Parameters

### Headers

- `assistant-api-key` (required) - Assistant API key for authentication

### Request Body

The request body should be a JSON object with the following fields:

- `filePath` (required) - URL or path to the document file to Extract from
- `instruction` (required) - Array of entity extraction instructions (see Entity Instruction structure below)
- `orgId` (required) - Organization identifier
- `teamId` (required) - Team identifier
- `recordId` (required) - Record identifier

#### Entity Instruction Structure

Each item in the `instruction` array should contain:

- `entityName` - Name of the entity to extract (e.g., "patientName")
- `entityType` - Type of entity: `text`, `list`, `email`, `date`, or `number`
- `entityQuestion` - Question to guide the extraction (e.g., "What's the Patient name?")
- `entityDescription` - Description of the entity

## Code Examples

<CodeGroup>

```csharp C#
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Post, "https://app.arahealth.io/v1/extract");
request.Headers.Add("assistant-api-key", "your_assistant_api_key");

var content = new StringContent(@"{
  ""filePath"": ""https://s3.example.com/documents/example-document.pdf"",
  ""instruction"": [
    {
      ""entityName"": ""patientName"",
      ""entityType"": ""text"",
      ""entityQuestion"": ""What's the Patient name?"",
      ""entityDescription"": ""The patient's full name as written in the referral.""
    },
    {
      ""entityName"": ""patientEmail"",
      ""entityType"": ""email"",
      ""entityQuestion"": ""What's the Patient Email?"",
      ""entityDescription"": ""The email address of an individual receiving medical care.""
    },
    {
      ""entityName"": ""patientGender"",
      ""entityType"": ""list"",
      ""entityQuestion"": ""What's the Patient Gender?"",
      ""entityDescription"": ""The gender identity of an individual receiving medical care.""
    }
  ],
  ""orgId"": ""your_org_id"",
  ""teamId"": ""your_team_id"",
  ""recordId"": ""your_record_id""
}", null, "application/json");

request.Content = content;
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());
```

```javascript JavaScript
const response = await fetch('https://app.arahealth.io/v1/extract', {
  method: 'POST',
  headers: {
    'assistant-api-key': 'your_assistant_api_key',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    filePath: 'https://s3.example.com/documents/example-document.pdf',
    instruction: [
      {
        entityName: 'patientName',
        entityType: 'text',
        entityQuestion: "What's the Patient name?",
        entityDescription: "The patient's full name as written in the referral."
      },
      {
        entityName: 'patientEmail',
        entityType: 'email',
        entityQuestion: "What's the Patient Email?",
        entityDescription: 'The email address of an individual receiving medical care.'
      },
      {
        entityName: 'patientGender',
        entityType: 'list',
        entityQuestion: "What's the Patient Gender?",
        entityDescription: 'The gender identity of an individual receiving medical care.'
      }
    ],
    orgId: 'your_org_id',
    teamId: 'your_team_id',
    recordId: 'your_record_id'
  })
});

const data = await response.json();
console.log(data);
```

```python Python
import requests
import json

url = "https://app.arahealth.io/v1/extract"

headers = {
    "assistant-api-key": "your_assistant_api_key",
    "Content-Type": "application/json"
}

payload = {
    "filePath": "https://s3.example.com/documents/example-document.pdf",
    "instruction": [
        {
            "entityName": "patientName",
            "entityType": "text",
            "entityQuestion": "What's the Patient name?",
            "entityDescription": "The patient's full name as written in the referral."
        },
        {
            "entityName": "patientEmail",
            "entityType": "email",
            "entityQuestion": "What's the Patient Email?",
            "entityDescription": "The email address of an individual receiving medical care."
        },
        {
            "entityName": "patientGender",
            "entityType": "list",
            "entityQuestion": "What's the Patient Gender?",
            "entityDescription": "The gender identity of an individual receiving medical care."
        }
    ],
    "orgId": "your_org_id",
    "teamId": "your_team_id",
    "recordId": "your_record_id"
}

response = requests.post(url, headers=headers, json=payload)
print(response.json())
```

```bash cURL
curl -X POST https://app.arahealth.io/v1/extract \
  -H "assistant-api-key: your_assistant_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "filePath": "https://s3.example.com/documents/example-document.pdf",
    "instruction": [
      {
        "entityName": "patientName",
        "entityType": "text",
        "entityQuestion": "What'\''s the Patient name?",
        "entityDescription": "The patient'\''s full name as written in the referral."
      },
      {
        "entityName": "patientEmail",
        "entityType": "email",
        "entityQuestion": "What'\''s the Patient Email?",
        "entityDescription": "The email address of an individual receiving medical care."
      }
    ],
    "orgId": "your_org_id",
    "teamId": "your_team_id",
    "recordId": "your_record_id"
  }'
```

</CodeGroup>

## Response

A successful extraction request returns a task ID and status:

```json
{
  "job_id": "example_job_id_456",
  "status": "pending",
  "message": "Entity recognition task started for record ID: your_record_id"
}
```

### Response Fields

- `job_id` - Unique identifier for the extraction task (use this to check task status)
- `status` - Current status of the task (`pending`, `processing`, `completed`, `failed`)
- `message` - Descriptive message about the task

### Entity Types

When defining extraction instructions, you can use the following entity types:

- `text` - Free-form text fields (names, addresses, etc.)
- `list` - Categorical values (gender, priority, etc.)
- `email` - Email addresses
- `date` - Date values
- `number` - Numeric values
